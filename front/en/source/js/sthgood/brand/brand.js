import '../../../less/sthgood/brand/brand.less';
var imgsrc=window.supervar.imgsrc_en;
var apiUrl='http://www.super.com/api/';
var hrefUrl="/en/page/";
const domain = window.supervar.domain;

var findType=[
    {
        "id":0,
        "title":"热门",
        "detail":[
            {
                "id":0,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品9折优惠  满199立减20",
                "info":"热门0"
            },
            {

                "id":1,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"热门1"
            },
            {

                "id":2,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"热门2"
            },
            {

                "id":3,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"热门3"
            },
            {

                "id":4,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"热门1"
            },
            {

                "id":5,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"热门1"
            },
            {

                "id":6,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"热门1"
            },
            {

                "id":7,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"热门1"
            },
            {

                "id":8,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"热门1"
            },
            {

                "id":9,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"热门1"
            },
        ],
    },
    {
        "id":1,
        "title":"服饰",
        "detail":[
            {
                "id":0,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"服饰0"
            },
            {

                "id":1,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"折优惠  满199立减20",
                "info":"服饰1"
            },
            {

                "id":2,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"服饰2"
            },
            {

                "id":3,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"服饰3"
            },
            {

                "id":4,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"服饰4"
            },
            {

                "id":5,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"服饰5"
            },
            {

                "id":6,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"服饰6"
            },
            {

                "id":7,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"服饰7"
            },
            {

                "id":8,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"服饰8"
            },
            {

                "id":9,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"服饰9"
            },
        ],
    },
    {
        "id":2,
        "title":"数码",
        "detail":[
            {
                "id":0,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":1,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":2,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":3,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":4,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":5,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":6,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":7,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":8,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":9,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
        ],
    },
    {
        "id":3,
        "title":"配饰",
        "detail":[
            {
                "id":0,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":1,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":2,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":3,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":4,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":5,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":6,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":7,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":8,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":9,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
        ],
    },
    {
        "id":4,
        "title":"家居",
        "detail":[
            {
                "id":0,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":1,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":2,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":3,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":4,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":5,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":6,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":7,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":8,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":9,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
        ],
    },
    {
        "id":5,
        "title":"玩具",
        "detail":[
            {
                "id":0,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":1,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":2,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":3,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":4,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":5,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":6,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":7,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":8,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":9,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
        ],
    },
    {
        "id":6,
        "title":"鞋箱",
        "detail":[
            {
                "id":0,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":1,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":2,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":3,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":4,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":5,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":6,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":7,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":8,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
            {

                "id":9,
                "bigImg":"#",
                "smallImg":"#",
                "title1":"原创精神&艺术潮",
                "title2":"新品8折优惠  满199立减20",
                "info":"#"
            },
        ],
    }
];
var secnavTitle=[
    {"title":"Recommended"},
    {"title":"Clothing"},
    {"title":"Digital"},
    {"title":"Home"},
    {"title":"Shoes & Bags"},
];
var listTitle=[
    {"title":"男士品味"},
    {"title":"酷玩数码"},
    {"title":"温馨家居"},
    {"title":"超炫玩具"},
    {"title":"靓包旅行"},
    {"title":"美妆私享"},
    {"title":"亲子时光"},
    {"title":"其他"},
];







class SecNavBox extends React.Component{
    constructor(props){
        super(props);
        this.state={
            searchShow:false,
            moreImg:false,
            secList:false,
        }
    }
    /*
    search(){
        let searchValue = this.refs.search.value;
        if(searchValue==''||searchValue==null){
            alert("请输入搜索内容")
        }else{
            alert(searchValue)
        }
    }
    searchHandle(e){
        if((e.keyCode).toString()=='13') {this.search();};
    }
    showSearch(e){
        //e.stopPropagation();
        if(this.state.searchShow==false){
            this.refs.search.focus();
            e.target.getAttribute('name') == "hideSearch" ? this.setState({searchShow:true,moreImg:false,secList:false}) : '';
        }else{
            this.search();
        }

    }
    showList(){
        this.setState({
            moreImg:!this.state.moreImg,
            secList:!this.state.secList
        });
    }
    componentDidMount(){
        let that =this;
        window.onclick = function(e){
            if(e.target.getAttribute('name')!='hideSearch' && e.target.getAttribute('name')!='searchInput'){
                that.setState({searchShow:false});
                that.refs.search.value='';
            }
        }
    }
    */
    render(){
        return(
            <div className="secnavbox" >
                <div className="secnav">
                    <div className="secnav-left" >
                        <a href={`//buy.${domain}/`} target="_blank">
                        <span className="daigou">{this.props.daigou}</span>
                        </a>
                        <a href={hrefUrl+'sthgood/goodIndex/'} target="_blank">
                        {this.props.sthGood}
                        </a>
                    </div>
                    <ul className={this.state.searchShow==true ? "secnav-right secnav-right-hide" : "secnav-right secnav-right-show"}>
                        {
                            secnavTitle.map((a)=>{
                                return(<li><a href="#">{a.title}</a></li>)
                            })
                        }

                    </ul>
                </div>

            </div>
        )
    }
}


class Hotbrand extends React.Component{
    constructor (props) {
        super(props);
        this.state = ({
            hover:-1,
            requestData:[],
        });
    }
    componentDidMount(){
        fetch(`http://www.super.com/api/shoppingguide/recommend-brand?language=en&debug=1`,{
            method:"GET",
        })
            .then(res => res.json())
            .then(data => {
                this.setState({requestData:data.data})
            })
        this.handleMouseOver=this.handleMouseOver.bind(this);
        this.handleMouseOut=this.handleMouseOut.bind(this);
    }
    handleMouseOver (e){
        let hoverElement= e.currentTarget.getAttribute("name");
        this.setState({hover:hoverElement})
    }
    handleMouseOut (e) {
        this.setState({hover:-1})
    }

    render(){
        return(
            <div className="brand_content">
                <div className="title">
                    <em>Discovery</em>
                </div>
                <div className="brand_box">
                    {
                        this.state.requestData && this.state.requestData.map((a,b)=>{
                            return(
                                <div name={a.id} onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut} className="brand">
                                    <div className="border" style={{borderColor:this.state.hover==a.id?"#824cc0":"#af8ed8"}}> </div>

                                    <img src={a.img} alt="" className="big_img"/>
                                    <div style={{display:this.state.hover==a.id?"none":"block"}} className="desc">
                                        <em>{a.desc}</em>
                                        <em>{a.benefitDesc}</em>
                                    </div>
                                    <div style={{display:this.state.hover==a.id?"block":"none"}} className="enter">
                                        <img src={a.shopImg} alt="" className="shopImg"/>
                                        <a className="button" href={hrefUrl+"buy/?url="+encodeURIComponent(a.href)} target="blank">Visit Store</a>
                                    </div>


                                </div>
                            )
                        })
                    }
                </div>

            </div>
        );
    }
}



class FindList extends React.Component{
    constructor (props) {
        super(props);
        this.state = ({
            imgShow:true,
            infoShow:false,
            activeTab:0,
            requestData:[],
        });
    }
    componentDidMount(){
        fetch(`http://www.super.com/api/shoppingguide/child-get-cat-list?language=en&cat=${this.props.name}&currPage=1&pageSize=1&debug=1`,{
            method:"GET"
        })
            .then(res => res.json())
            .then(data => {
                this.setState({requestData:data.data.listResult})
            })
    }

    handleMouseOver (e) {
        let tabIndex = e.currentTarget.getAttribute('name');
        this.setState({
            imgShow:false,
            infoShow:true,
            activeTab:tabIndex,
        });
    }
    handleMouseOut (e) {
        let tabIndex = e.currentTarget.getAttribute('name');
        this.setState ({
            imgShow:true,
            infoShow:false,
            activeTab:-1,
        });
    }
    render(){
        return(
            <div className="find-right-list">
                {console.log(this.props.name)}
                {
                    this.state.requestData && this.state.requestData.map((a,b )=>(
                            <div name={b} className="right-listbox" onMouseOver={this.handleMouseOver.bind(this)} onMouseOut={this.handleMouseOut.bind(this)}>

                                <img className="big-img" src={a.img}/>

                                <div className="listbox-bottom">
                                    <img className="small-img" src={a.shopImg} style={{display:this.state.activeTab==b?"none":"block"}}/>
                                    <div className="brand-info" style={{display:this.state.activeTab==b?"block":"none"}}>{a.title}</div>

                                    <div className="listbox-bottom-box">
                                        <div className="listbox-bottom-move">
                                            <span>{a.desc}</span>
                                            <p>{a.benefitDesc}</p>
                                            <a href={hrefUrl+"buy/?url="+encodeURIComponent(a.href)} target="blank">
                                                <input type="button" value={this.props.interBtn} />
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )
                    )
                }
            </div>
        )
    }
}

class Find extends React.Component{
    constructor(props){
        super(props);
        this.state={
            spanActive:0,
            requestData:[],
        }
    }
    componentDidMount(){
        fetch(`${apiUrl}shoppingguide/child-cat-list?language=en&debug=1`,{
            method:"GET"
        })
            .then(res => res.json())
            .then(data => {
                this.setState({requestData:data.data})
            })
    }
    changeList(e){
        let tabIndex = e.currentTarget.getAttribute('name');
        this.setState({spanActive:tabIndex});
    }
    render(){
        return(
            <div className="outer">
                <div className="topic">World Top Selection</div>
                <div className="listBox">
                    <div className="list_nav">

                        {
                            this.state.requestData && this.state.requestData.map((a,b)=>{
                                return(<span name={a.id}  className={this.state.spanActive==a.id? "active" : "default"} onClick={this.changeList.bind(this)}>{a.categoryName}</span>)
                            })
                        }
                    </div>
                    <FindList name={this.state.spanActive}/>
                </div>
            </div>
        )
    }
}




/* your logic code */
class Content extends React.Component{
    render(){
        return(
            <div className="brand" id="brand">
                <SecNavBox/>
                <div className="container">
                    <Hotbrand/>
                    <Find/>

                </div>
            </div>
        )
    }
}

var Wrap = window.supervar.Wrap;
var content=ReactDOM.render(
    <Wrap content={Content} />,
    document.getElementById("container")
);
FindList.defaultProps={
    interBtn:'进入店铺',
};
SecNavBox.defaultProps={
    daigou:'Shopping Agent',
    sthGood:"Editor's Pick",
    search:'http://在这里输入或粘贴您要代购商品的地址'
}